<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<link href="&#x2F;docs&#x2F;static/css/style.css" rel="stylesheet" />
		<title>Emojicode Documentation</title>
	</head>
	<body>
		<div class="global-nav">
			Help and more at <a href="http://emojicode.org">emojicode.org</a>.
		</div>
		<nav class="navbar" role="navigation" data-gumshoe-header>
			<a href="&#x2F;docs&#x2F;" class="logo">
        Emojicode <span class="logo-version">0.3 Beta</span> Documentation
      </a>
      <div class="navbar-right">
	      <a href="&#x2F;docs&#x2F;">Home</a>
	      <a href="&#x2F;docs&#x2F;guides">Guides</a>
				<a href="&#x2F;docs&#x2F;reference">Language Reference</a>
				<a href="&#x2F;docs&#x2F;packages">Package Index</a>
			</div>
		</nav>

		  <div class="toc">
	<h2>The Definite Language Reference &amp; Guide</h2>
	<ol data-gumshoe>
    	<li>
        <a href="basics.html"
            
            class="chapter-link">The Basics</a>
      </li>
    	<li>
        <a href="optionals.html"
            
            class="chapter-link">Optionals and Nothingness</a>
      </li>
    	<li>
        <a href="the-s-package.html"
            
            class="chapter-link">The s package</a>
      </li>
    	<li>
        <a href="controlflow.html"
            
            class="chapter-link">Control Flow</a>
      </li>
    	<li>
        <a href="classes-valuetypes.html"
            class="chapter-link current"
            >Classes &amp; Value Types</a>
          <ul>
            <li>
              <a href="#classes-versus-value-types" class="section-link">Classes versus Value Types</a>
            </li>
            <li>
              <a href="#definition-syntax" class="section-link">Definition Syntax</a>
            </li>
            <li>
              <a href="#instance-variables" class="section-link">Instance Variables</a>
            </li>
            <li>
              <a href="#initializers" class="section-link">Initializers</a>
            </li>
            <li>
              <a href="#instantiation" class="section-link">Instantiation</a>
            </li>
            <li>
              <a href="#required-initializers" class="section-link">Required Initializers</a>
            </li>
            <li>
              <a href="#nothingness-initializers" class="section-link">Nothingness Initializers</a>
            </li>
            <li>
              <a href="#methods" class="section-link">Methods</a>
            </li>
            <li>
              <a href="#this-context" class="section-link">This Context</a>
            </li>
            <li>
              <a href="#calling-super-methods" class="section-link">Calling Super Methods</a>
            </li>
            <li>
              <a href="#type-methods" class="section-link">Type Methods</a>
            </li>
            <li>
              <a href="#overriding-and-promises" class="section-link">Overriding and Promises</a>
            </li>
            <li>
              <a href="#reserved-emojis" class="section-link">Reserved Emojis</a>
            </li>
            <li>
              <a href="#access-modifiers" class="section-link">Access Modifiers</a>
            </li>
            <li>
              <a href="#object-address-compare" class="section-link">Object Address Compare</a>
            </li>
          </ul>
      </li>
    	<li>
        <a href="extensions.html"
            
            class="chapter-link">Extensions</a>
      </li>
    	<li>
        <a href="protocols.html"
            
            class="chapter-link">Protocols</a>
      </li>
    	<li>
        <a href="enums.html"
            
            class="chapter-link">Enums</a>
      </li>
    	<li>
        <a href="types.html"
            
            class="chapter-link">Types and Namespaces</a>
      </li>
    	<li>
        <a href="generics.html"
            
            class="chapter-link">Generics</a>
      </li>
    	<li>
        <a href="callables.html"
            
            class="chapter-link">Callables</a>
      </li>
    	<li>
        <a href="threads.html"
            
            class="chapter-link">Threads</a>
      </li>
    	<li>
        <a href="metatypes.html"
            
            class="chapter-link">Metatypes</a>
      </li>
    	<li>
        <a href="packages.html"
            
            class="chapter-link">Packages</a>
      </li>
    	<li>
        <a href="memory.html"
            
            class="chapter-link">Memory Management</a>
      </li>
    	<li>
        <a href="specification.html"
            
            class="chapter-link">Emojicode Engine &amp; Compilation Specification</a>
      </li>
    	<li>
        <a href="compiler.html"
            
            class="chapter-link">Appendix I: The Emojicode Compiler</a>
      </li>
	</ol>
</div>

<div class="content">
	<h1 id="classes-value-types">Classes &amp; Value Types</h1>
<p>Emojicode features two types that support object-orientation: <strong>Classes and
Value Types.</strong></p>
<h2 id="classes-versus-value-types">Classes versus Value Types</h2>
<p>There are significant difference betweeen classes and value types:</p>
<ul>
<li><p><strong>Instances of classes</strong> are always allocated on the heap and are <strong>passed
by</strong> reference. <strong>Instances of value types</strong> are, as their name suggests,
<strong>passed by value.</strong></p>
</li>
<li><p>Classes feature inheritance while value types donâ€™t.</p>
</li>
</ul>
<h2 id="definition-syntax">Definition Syntax</h2>
<p>The syntax to define a class is the following:</p>
<pre class="syntax">
ğŸ‡ <span class="syntax-placeholder">class</span> <span class="syntax-placeholder">[superclass]</span> ğŸ‡

ğŸ‰
<span class="syntax-placeholder">superclass</span> âŸ¶ <span class="syntax-placeholder">type-identifier</span>
<span class="syntax-placeholder">class</span> âŸ¶ <span class="syntax-placeholder">type</span>
</pre>

<p><em>class</em> must be a type identifier. If <em>superclass</em> is omitted the class doesnâ€™t
have a superclass. You can subclass any existing class.</p>
<p>The syntax to define a value type is the following:</p>
<pre class="syntax">
ğŸ•Š <span class="syntax-placeholder">value-type</span> ğŸ‡

ğŸ‰
<span class="syntax-placeholder">value-type</span> âŸ¶ <span class="syntax-placeholder">type-identifier</span>
</pre>

<div class="callout-hint"><div class="title">Hint</div>          <div class="text"><p>The types are directly made available in the namespaces provided in
<em>value-type</em> or <em>class</em>. Please see <a href="types.html">Types</a> to gain a deeper
understanding of namespaces and their use in declarations.</p>
</div></div>

<p>As for example the code below defines a ğŸŸ class, that has no superclass.</p>
<pre><code>ğŸ‡ ğŸŸ ğŸ‡

ğŸ‰
</code></pre><p>We can now subclass this ğŸŸ class and declare a ğŸ¡ class that represents a
blowfish â€“ a more concrete type of fish:</p>
<pre><code>ğŸ‡ ğŸ¡ ğŸŸ ğŸ‡

ğŸ‰
</code></pre><p>Defining a value type yourself isnâ€™t really useful as for the moment (version
0.3) but extending it is.</p>
<h2 id="instance-variables">Instance Variables</h2>
<p>In the class body the ğŸ° syntax can be used to declare variables. These variables
are then local to the class instances.</p>
<p>When a class is created a scope is created in which the instance variables
live. This scope is always available to methods and in initializers as top
scope.</p>
<p>The example below defines a ğŸŸ class with instance variables.</p>
<pre><code>ğŸ‡ ğŸŸ ğŸ‡
  ğŸ° age ğŸš‚
  ğŸ° speedInM/s ğŸš€
  ğŸ° name ğŸ¬ğŸ”¡  ğŸ‘´ Fish kept in aquariums often have names
ğŸ‰
</code></pre><p>Instance variables are local to the class <strong>cannot be accessed from outside</strong>
the class. If you want to modify or access them from outside the class you have
to write <strong>getters and setters</strong>.</p>
<p>Itâ€™s also noteworthy that instance variables are <strong>private to the class</strong> in
which they were defined. Subclasses canâ€™t access their superclasses instance
variables and also have to use corresponding getters and setters.</p>
<p>As for the moment value types do not support instance variables.</p>
<h2 id="initializers">Initializers</h2>
<p>Initializers are responsible to prepare an instance for use and is called to
instantiate a type, that is gaining an instance, sometimes also called object,
of the given type.</p>
<p>The syntax to define an initializer is:</p>
<pre class="syntax">
ğŸˆ <span class="syntax-placeholder">name</span> <span class="syntax-placeholder">[parameters]</span> ğŸ‡

ğŸ‰
<span class="syntax-placeholder">parameters</span> âŸ¶ <span class="syntax-placeholder">parameter</span> | <span class="syntax-placeholder">parameter</span> <span class="syntax-placeholder">parameters</span>
<span class="syntax-placeholder">parameter</span> âŸ¶ <span class="syntax-placeholder">variable</span> <span class="syntax-placeholder">type</span>
</pre>

<p>In the initializer you <strong>must set all instance variables</strong> that are not
optionals to an appropriate value. You <strong>must also call an initializer</strong> of your
classâ€™s superclass given the class has a superclass. ğŸ must be used to call
superinitializers:</p>
<pre class="syntax">
ğŸ <span class="syntax-placeholder">superinitializer</span> <span class="syntax-placeholder">[arguments]</span>
</pre>

<p>As a result objects are guaranteed fully initialized.</p>
<p>The following example shows an initializer for the ğŸŸ class:</p>
<pre><code>ğŸˆ ğŸ age. ğŸš‚ name. ğŸ¬ğŸ”¡ ğŸ‡
  ğŸ® age age.
  ğŸ® name name.
  ğŸ® speedInM/s 0
ğŸ‰
</code></pre><p>This initializer initializes all variables to appropriate values. <code>age</code> and
<code>name</code> were initialized to values passed by arguments. <code>speedInM/s</code> was set to
a default value.</p>
<p>Value type initializers work quite similarly, with one big difference: In
contrast to class initializers they return a value. This is due to the fact that
value types only represent <em>primitive</em> values. The following is an example for
an initializer for ğŸš‚, which is a value type.</p>
<h3 id="initializer-inheritance">Initializer Inheritance</h3>
<p>In contrast to other programming languages, initializers are only inherited by
subclasses if some criteria are met:</p>
<ul>
<li>The subclass does not define any instance variables.</li>
<li>The subclass does not define any initializer.</li>
</ul>
<h2 id="instantiation">Instantiation</h2>
<p>To get an instance of a class or value type, you must <em>instantiate</em> it.
ğŸ”· is used for instantiation.</p>
<p>Its syntax is:</p>
<pre class="syntax">
ğŸ”· <span class="syntax-placeholder">type</span> <span class="syntax-placeholder">initializer</span> <span class="syntax-placeholder">[arguments]</span>
</pre>

<p><em>initializer</em> must be the name of the initializer you
want to use. Naturally, you need to provide the correct number of appropriate
arguments.</p>
<p>To get a ğŸŸ instance for example, you would use:</p>
<pre><code>ğŸ”·ğŸŸğŸ 2 ğŸ”¤BillyğŸ”¤
</code></pre><h2 id="required-initializers">Required Initializers</h2>
<p>By default subclasses are not required to implement the initializers of their
parent classes. This means that a parent class may define a initializer which no
subclass has.</p>
<p>Sometimes a class may need to enforce its descendants to implement a specific
initializer. In such cases the ğŸ”‘ attribute should be used. A class must
implement all initializers defined in its superclass that were marked with ğŸ”‘.</p>
<p>This example defines an initializer ğŸ”¨ all subclasses of ğŸšª must provide:</p>
<pre><code>ğŸ‡ ğŸšª ğŸ‡
  ğŸ”‘ ğŸˆ ğŸ”¨ ğŸ‡
    ğŸ‘´ Do some initialization here...
  ğŸ‰
ğŸ‰
</code></pre><p>An initializer implementing a required initializer must mark itself with ğŸ”‘ too.</p>
<h2 id="nothingness-initializers">Nothingness Initializers</h2>
<p>There are some cases where a initializer can fail. For instance a initializer
that should open a file, will fail if the file does not exist.</p>
<p>These kind of initializers are called <em>Nothingness Initializers</em> and they can
return, as their name suggests, nothingness.</p>
<p>To declare a Nothingness Initializer you use the ğŸ¬ attribute. Example:</p>
<pre><code>ğŸŒ® Tries to lure a fish at the given age with pizza. ğŸŒ®
ğŸ¬ ğŸˆ ğŸ• age. ğŸš‚ ğŸ‡
  ğŸŠ â—€ï¸ age. 1 ğŸ‡
    ğŸ‘´ You canâ€™t lure fish younger than one year with pizza
    ğŸ âš¡ï¸
  ğŸ‰
  ğŸ® age age.
  ğŸ‘´ ...
ğŸ‰
</code></pre><p>As you can see in the above example you use ğŸ in combination with âš¡ï¸ to
return nothingness. Using such an initializer with ğŸ”· gives you, of course, an
optional.</p>
<h2 id="methods">Methods</h2>
<p>Methods are functionality bound to a specific type: a class or value type.</p>
<p>The syntax to define a method is:</p>
<pre class="syntax">
ğŸ– <span class="syntax-placeholder">method-emoji</span> <span class="syntax-placeholder">[parameters]</span> <span class="syntax-placeholder">[return-type]</span> ğŸ‡

ğŸ‰
<span class="syntax-placeholder">return-type</span> âŸ¶ â¡ï¸ <span class="syntax-placeholder">type</span>
</pre>

<p>Hereâ€™s an example from the ğŸŸ class:</p>
<pre><code>ğŸŒ® Swim the given distance within one hour. ğŸŒ®
ğŸ– ğŸŠ distanceInMeters ğŸš€ ğŸ‡
  ğŸ® speedInM/s â— distanceInMeters 3600
ğŸ‰
</code></pre><p>Every methods return a value. As you can see in the syntax definition, you can
declare a <em>returnType</em> for the method. If you donâ€™t declare a return type the
return type defaults to âœ¨. ğŸ is used to explicitly return a value:</p>
<pre class="syntax">
ğŸ <span class="syntax-placeholder">value</span>
</pre>

<p>Letâ€™s look at another example from the ğŸŸ class that uses ğŸ:</p>
<pre><code>ğŸŒ® Determines whether this fish should retire. ğŸŒ®
ğŸ– ğŸ‘¨ â¡ï¸ ğŸ‘Œ ğŸ‡
  ğŸ â–¶ï¸ age 4
ğŸ‰
</code></pre><p>You canâ€™t use the names of language statements as method names since you
wonâ€™t be able to call the method if you do so. You can find a <a href="#reserved-emojis">list of these
reserved emojis</a> at the end of this chapter.</p>
<h3 id="calling-methods">Calling Methods</h3>
<p>The syntax to call a method is special:</p>
<pre class="syntax">
<span class="syntax-placeholder">method-emoji</span> <span class="syntax-placeholder">value</span> <span class="syntax-placeholder">[arguments]</span>
</pre>

<p><em>method-emoji</em> is the name of the method you wish to call. <em>value</em> is the
instance whose method should be called. Of course all arguments must be provided
as required.</p>
<div class="callout-hint"><div class="title">Hint</div>          <div class="text"><p>This means that any emoji that is not used with a language construct
is a method call!</p>
</div></div>

<p>Example:</p>
<pre><code>ğŸ¦ michaelTheFish ğŸ”·ğŸŸğŸ 3 ğŸ”¤MichaelğŸ”¤
ğŸŠ ğŸ‘¨ michaelTheFish ğŸ‡
  ğŸ˜€ ğŸ”¤Michael will retire!ğŸ”¤
ğŸ‰
</code></pre><h2 id="this-context">This Context</h2>
<p>You often will want to get the value on which the method was called, this is
the object or the value. ğŸ• is your friend here:</p>
<pre class="syntax">
ğŸ•
</pre>

<p>The ğŸ• returns the current value, whose method or initializer is being called.</p>
<p>Here, for instance, a method of ğŸŸ is shown which calls another method to
determine whether the fish on which the method was called should retire or can
sign a new contract:</p>
<pre><code>ğŸŒ® Signs a new contract of employment. ğŸŒ®
ğŸ– ğŸ–Š ğŸ‡
  ğŸŠ ğŸ‘¨ ğŸ• ğŸ‡
    ğŸ˜€ ğŸ”¤Sorry, Iâ€™d prefer to retire.ğŸ”¤
  ğŸ‰
  ğŸ“ ğŸ‡
    ğŸ˜€ ğŸ”¤I hope theyâ€™ll pay me twice as much.ğŸ”¤
  ğŸ‰
ğŸ‰
</code></pre><div class="callout-caution"><div class="title">Caution</div>          <div class="text"><p>In an initializer, you canâ€™t use ğŸ• before the object is fully initialized,
that is before all instance variables were set and the superintializer was
called.</p>
</div></div>

<h2 id="calling-super-methods">Calling Super Methods</h2>
<p>Inside a method you can use this syntax to call the super method:</p>
<pre class="syntax">
ğŸ¿ <span class="syntax-placeholder">method-emoji</span> <span class="syntax-placeholder">[arguments]</span>
</pre>

<p>This simply calls the super method named <em>methodEmoji</em> and returns it value.</p>
<p>You should of course only use this method if itâ€™s really needed.</p>
<h2 id="type-methods">Type Methods</h2>
<p>Itâ€™s possible to define type methods which are called on the type instead of
being called on the instances of this type.</p>
<p>Type methods are defined like normal methods but with the ğŸ‡ attribute. As for
example:</p>
<pre><code>ğŸ‡ğŸ– ğŸ— ğŸ‡
  ğŸ˜€ ğŸ”¤Howdy!ğŸ”¤

  ğŸ 0
ğŸ‰
</code></pre><p>Since type methods donâ€™t execute in an object context the use of ğŸ• is illegal.
Type method on classes are also inherited by subclasses.</p>
<h3 id="calling-type-methods">Calling Type Methods</h3>
<p>The syntax to call a type method is:</p>
<pre class="syntax">
ğŸ© <span class="syntax-placeholder">method-emoji</span> <span class="syntax-placeholder">type</span> <span class="syntax-placeholder">[arguments]</span>
</pre>

<p>Example:</p>
<pre><code>ğŸ© ğŸŒ ğŸ’»
</code></pre><p>This calls the type method ğŸŒ on the class ğŸ’». ğŸ’» is a class defined
in the s package. The ğŸŒ method will return the <em>current working
directory</em>.</p>
<h2 id="overriding-and-promises">Overriding and Promises</h2>
<p>You can override methods and initializers by redeclaring them in a subclass
leaded by âœ’ï¸.</p>
<h3 id="promises">Promises</h3>
<p>You must watch out not to break the superclassâ€™s <em>promises</em>. Promises are a set
of rules that ensure that the methods and required intializers of a class can be
used the same way as the ones of the superclass â€“ a main characteristic of
object orientation. These promises are:</p>
<ul>
<li>The method or initializer of the subclass must take the same number of
arguments.</li>
<li>The return type of the method or initializer of the subclass must be the
same or a subtype of the return type of the overriden method or intializer.</li>
<li>The arguments of the method or initializer of the subclass must be of the same
type or a super type of the argument types of the overriden method or
intializer.</li>
<li>The method or initializer of the subclass must have the same access modifier
as the super method or intializer.</li>
</ul>
<h3 id="preventing-overriding">Preventing Overriding</h3>
<p>The ğŸ” attribute prevents overriding a method, initializer or class method in a
subclass. Example:</p>
<pre><code>ğŸ” ğŸ– ğŸ¸ â¡ï¸ ğŸš‚ ğŸ‡
  ğŸ 34
ğŸ‰
</code></pre><p>Any attempt to override a method, initializer or class method attributed with ğŸ”
will lead to a compiler error.</p>
<h2 id="reserved-emojis">Reserved Emojis</h2>
<p>These emojis cannot be used as method names:</p>
<pre class="syntax">
<span class="syntax-placeholder">method-emoji</span> âŸ¶ <span class="syntax-placeholder">emoji</span> except <span class="syntax-placeholder">reserved-emoji</span>
<span class="syntax-placeholder">reserved-emoji</span> âŸ¶ ğŸ®|ğŸ©|ğŸ°|ğŸ¨|ğŸ¯|ğŸ¦|ğŸ«|ğŸ³|ğŸª|ğŸ­
<span class="syntax-placeholder">reserved-emoji</span> âŸ¶ ğŸº|ğŸ»|ğŸ”|ğŸ”‚|ğŸŠ|ğŸ‹|ğŸ‡|ğŸ‰|ğŸ“|ğŸ†
<span class="syntax-placeholder">reserved-emoji</span> âŸ¶ ğŸŒ|ğŸ|ğŸ”²|ğŸ”³|â¬œï¸|ğŸ”·|ğŸ•|âš¡ï¸|â˜ï¸|ğŸš
<span class="syntax-placeholder">reserved-emoji</span> âŸ¶ ğŸ”¤|ğŸ‘µ|ğŸ”Ÿ|ğŸ‘|ğŸ‘|ğŸ‘´
</pre>

<h2 id="access-modifiers">Access Modifiers</h2>
<p><em>Access Modifiers</em> describe from which context a method, class method or initializer can be called. There are three access modifiers, which can be applied to methods, initializers, and class methods.</p>
<ul>
<li>ğŸ”“: The method, initializer, or class method can be accessed from everywhere.</li>
<li>ğŸ”’: The method, initializer, or class method may only be accessed within the class it was defined.</li>
<li>ğŸ”: The method, initializer, or class method may only be accessed within the class it was defined or within a class that inherits from that class.</li>
</ul>
<h2 id="object-address-compare">Object Address Compare</h2>
<p>ğŸ˜œ can be used to determine whether two objects have the same memory address
and are thus really the same object. This isnâ€™t an <em>equality</em> check: Two
objects might represents the same value but they are still two different object
not sharing the same memory location. To determine equality use ğŸ˜› if available.</p>
<pre class="syntax">
ğŸ˜œ <span class="syntax-placeholder">object</span> <span class="syntax-placeholder">object</span>
<span class="syntax-placeholder">object</span> âŸ¶ <span class="syntax-placeholder">value</span>
</pre>

<p>ğŸ˜œ returns true if both <em>object</em>s are references to the same memory location.</p>
<p><em>object</em> must be a ğŸ”µ.</p>


	<div class="reference-navigation-bottom">
		<a href="controlflow.html" class="left">
			â† Previous
		</a>
		<a href="extensions.html" class="right">
			Next â†’
		</a>
	</div>
</div>


    <script src="&#x2F;docs&#x2F;static/js/gumshoe.min.js"></script>
    <script>
      gumshoe.init({ activeClass: 'current', offset: 80 });
    </script>
	</body>
</html>
