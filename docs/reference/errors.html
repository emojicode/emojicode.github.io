<!-- This file was automatically generated from Markdown or JSON source files.
     DO NOT edit this file directly but look for the according source file! --><!DOCTYPE html><html><head><link href="https://thbwd.github.io/emojifont/emojicode.css" rel="stylesheet"><meta charset="utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport"><link href="/static/css/docs.css" rel="stylesheet"><title>Emojicode Documentation &middot; Error Handling</title></head><body><nav class="menu" role="navigation"><a href="/">Emojicode</a><div class="menu-right"><a href="&#x2F;docs&#x2F;" class="active">Documentation</a> <a href="https://github.com/emojicode">GitHub</a></div></nav><header class="docs-header"><a href="&#x2F;docs&#x2F;" class="docs-header-title">Emojicode Documentation <span class="docs-header-version">Symphonic 0.6</span></a><div class="docs-header-right"><a href="&#x2F;docs&#x2F;guides">Guides</a> <a href="&#x2F;docs&#x2F;reference" class="active">Language Reference</a> <a href="&#x2F;docs&#x2F;packages">Package Index</a></div></header><div class="content"><div class="toc-wrapper"><div class="toc"><h2>The Language Reference &amp; Guide</h2><ol data-gumshoe><li><a href="welcome.html" class="chapter-link">Welcome to Emojicode</a></li><li><a href="basics.html" class="chapter-link">The Basics</a></li><li><a href="syntax.html" class="chapter-link">Syntax</a></li><li><a href="variables.html" class="chapter-link">Variables and Assignment</a></li><li><a href="controlflow.html" class="chapter-link">Control Flow</a></li><li><a href="the-s-package.html" class="chapter-link">The s package</a></li><li><a href="classes-valuetypes.html" class="chapter-link">Classes &amp; Value Types</a></li><li><a href="operators.html" class="chapter-link">Operators</a></li><li><a href="optionals.html" class="chapter-link">Optionals</a></li><li><a href="errors.html" class="chapter-link current">Error Handling</a><ul><li><a href="#the-types" class="section-link">The ğŸš¨ Types</a></li><li><a href="#the-statement" class="section-link">The ğŸš¨ Statement</a></li><li><a href="#error-initializer" class="section-link">Error Initializer</a></li><li><a href="#-error-check-control" class="section-link">ğŸ¥‘ Error Check Control</a></li><li><a href="#-test-for-errors" class="section-link">ğŸš¥ Test for Errors</a></li><li><a href="#unwrapping-errors" class="section-link">Unwrapping Errors</a></li></ul></li><li><a href="extensions.html" class="chapter-link">Extensions</a></li><li><a href="inheritance.html" class="chapter-link">Inheritance and Overriding</a></li><li><a href="protocols.html" class="chapter-link">Protocols</a></li><li><a href="enums.html" class="chapter-link">Enumerations</a></li><li><a href="types.html" class="chapter-link">Types and Namespaces</a></li><li><a href="typevalues.html" class="chapter-link">Types As Values</a></li><li><a href="documentation.html" class="chapter-link">Documentation</a></li><li><a href="generics.html" class="chapter-link">Generics</a></li><li><a href="callables.html" class="chapter-link">Callables</a></li><li><a href="packages.html" class="chapter-link">Packages</a></li><li><a href="threads.html" class="chapter-link">Threads</a></li><li><a href="safety.html" class="chapter-link">Safe and Unsafe Code</a></li><li><a href="compiler.html" class="chapter-link">Appendix: The Emojicode Compiler</a></li></ol></div></div><h1 id="error-handling">Error Handling</h1><p>Proper mechanisms to handle errors are an integral part of modern programming languages. Being a modern language, Emojicode provides a sophisticated but light-weight way to handle errors.</p><h2 id="the-types">The ğŸš¨ Types</h2><p>Emojicode provides special types to handle errors. Those are called ğŸš¨ types or error types. An error type is always composed of two other types: An enumeration that serves as the <em>error enumeration</em>, which indicates the kind of error if an error occurs, and a contained type, i.e. the type that is present if no error arises.</p><p>For instance, a method that normally returns a ğŸ”¡ can declare that it will return an instance of ğŸœ in case of an error like this:</p><pre><code>â—ï¸ ğŸ™… â¡ï¸ ğŸš¨ğŸœğŸ”¡ ğŸ‡
</code></pre><p>An instance of a ğŸš¨ type therefore either contains an error in the form of an enumeration value or a value of the contained type.</p><h2 id="the-statement">The ğŸš¨ Statement</h2><p>An error can only ever be created and raised inside a function. In a function the ğŸš¨ statement, which works similar to â†©ï¸, is used to create the error and return it from the function.</p><pre class="syntax"><code><span class="syntax-placeholder" id="srule-error">error</span> âŸ¶ ğŸš¨ <a href="syntax.html#srule-expression" class="syntax-placeholder">expression</a>
</code></pre><p>The expression must evaluate to an instance of the error enumeration. The example below shows a class, which stands for a microphone. It has a method called ğŸ¬ that might fail in some cases, in which an error is returned:</p><pre><code>ğŸ¦ƒ â›° ğŸ‡
  ğŸ”˜ğŸ”‹
  ğŸ”˜ğŸŒŠ
ğŸ‰

ğŸ‡ ğŸ¤ ğŸ‡
  ğŸ° battery ğŸš€

  ğŸ‘´ ...

  ğŸ‡ğŸ– ğŸ¬ â¡ï¸ ğŸš¨â›°ğŸ”¡ ğŸ‡
    ğŸŠ â—€ï¸ battery 0.1 ğŸ‡
      ğŸš¨ğŸ”·â›°ğŸ”‹ ğŸ‘´ Too low battery, return an error
    ğŸ‰
    ğŸ ğŸ”¤Ladies and gentlemen...ğŸ”¤ ğŸ‘´ Everything fine, we return a string
  ğŸ‰
ğŸ‰
</code></pre><h2 id="error-initializer">Error Initializer</h2><p>Since initializers can fail too, Emojicode allows initializers to return errors. The error enumeration is declared after the ğŸ†• like this:</p><pre><code>ğŸ†• ğŸš¨â›° ğŸ¦€ frequency ğŸš€ ğŸ‡
</code></pre><p>A contained value must not be provided, as the contained value is obviously the type instantiated.</p><p>Here&#39;s an example of an initializer that returns an error:</p><pre><code>ğŸ¦ƒ â›° ğŸ‡
  ğŸ”˜ğŸ”‹
  ğŸ”˜ğŸŒŠ
ğŸ‰

ğŸ‡ ğŸ¤ ğŸ‡
  ğŸˆ ğŸš¨â›° ğŸ¦€ frequency ğŸš€ ğŸ‡
    ğŸŠ â—€ï¸ frequency 520 ğŸ‡
      ğŸš¨ğŸ”·â›°ğŸŒŠ ğŸ‘´ frequency must be greater than 520 MHz so return an error
    ğŸ‰
    ğŸ‘´ ...
  ğŸ‰
ğŸ‰
</code></pre><h3 id="error-initializers-and-super-initializer-calls">Error Initializers and Super Initializer Calls</h3><p>Note that if you call a super initializer that could raise an error, your initializer must also declare that it can return an error. The error enumeration of your initializer and the super initializer must be identical.</p><p>If the super initializer then returns an error, your initializer will also return immediately with the same error.</p><h2 id="-error-check-control">ğŸ¥‘ Error Check Control</h2><p>Emojicode provides a control flow mechanism that is specifically designed for error checking:</p><pre class="syntax"><code><span class="syntax-placeholder" id="srule-error-check-control">error-check-control</span> âŸ¶ ğŸ¥‘ <a href="syntax.html#srule-variable" class="syntax-placeholder">variable</a> <a href="syntax.html#srule-expression" class="syntax-placeholder">expression</a> <a href="controlflow.html#srule-block" class="syntax-placeholder">block</a> ğŸ“ <a href="syntax.html#srule-variable" class="syntax-placeholder">variable</a> <a href="controlflow.html#srule-block" class="syntax-placeholder">block</a>
</code></pre><p>The ğŸ¥‘ works in a straight-forward way. If the expression evaluates to an ğŸš¨ instance that does not represent an error, the first block is executed an the variable is set to the value contained in the ğŸš¨. If, however, the ğŸš¨ does represent an error the ğŸ“ block is entered its variable is set to the error enumeration instance.</p><p>Example:</p><pre><code>ğŸ¥‘ fileData ğŸ©ğŸ“‡ğŸ“„ ğŸ”¤textDocument.txtğŸ”¤ ğŸ‡
  ğŸ˜€ ğŸªğŸ”¤Read ğŸ”¤ ğŸ”¡ ğŸ” fileData 10 ğŸ”¤ bytesğŸ”¤ ğŸª
ğŸ‰
ğŸ“ error ğŸ‡
  ğŸ˜€ ğŸ”¤ğŸ˜¢ Could not read fileğŸ”¤
ğŸ‰
</code></pre><h2 id="-test-for-errors">ğŸš¥ Test for Errors</h2><p>To test whether an ğŸš¨ instance represents an error the ğŸš¥ expression is used.</p><p>Syntax:</p><pre class="syntax"><code><span class="syntax-placeholder" id="srule-is-error">is-error</span> âŸ¶ ğŸš¥ <a href="syntax.html#srule-expression" class="syntax-placeholder">expression</a>
</code></pre><p>ğŸš¥ returns ğŸ‘ if the value is an error or ğŸ‘ false if its not an error and contains a value.</p><h2 id="unwrapping-errors">Unwrapping Errors</h2><p>As with optionals, you can use ğŸº to unwrap an error, that is to fetch its contained value without any prior checking. If the error, however, does not contain a value but does represent an error state the program will panic.</p><div class="book-navigation-bottom"><a href="optionals.html" class="left">â† Previous </a><a href="extensions.html" class="right">Next Up: â€œExtensionsâ€ â†’</a></div><div class="book-improve">Want to improve this page? <a href="https://github.com/emojicode/emojicode.github.io/blob/master/src&#x2F;reference&#x2F;errors.md" target="_blank">You can edit the source on GitHub and send us a pull request!</a></div></div><script src="/static/js/gumshoe.min.js"></script><script>gumshoe.init({ activeClass: 'current', offset: 80 });</script><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);loadCSS('http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/xcode.min.css');</script></body></html>