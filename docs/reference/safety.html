<!-- This file was automatically generated from Markdown or JSON source files.
     DO NOT edit this file directly but look for the according source file! --><!DOCTYPE html><html><head><link href="https://thbwd.github.io/emojifont/emojicode.css" rel="stylesheet"><meta charset="utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport"><link href="/static/css/docs.css" rel="stylesheet"><title>Emojicode Documentation &middot; Safe and Unsafe Code</title></head><body><nav class="menu" role="navigation"><a href="/">Emojicode</a><div class="menu-right"><a href="&#x2F;docs&#x2F;" class="active">Documentation</a> <a href="https://github.com/emojicode">GitHub</a></div></nav><header class="docs-header"><a href="&#x2F;docs&#x2F;" class="docs-header-title">Emojicode Documentation <span class="docs-header-version">Symphonic 0.6</span></a><div class="docs-header-right"><a href="&#x2F;docs&#x2F;guides">Guides</a> <a href="&#x2F;docs&#x2F;reference" class="active">Language Reference</a> <a href="&#x2F;docs&#x2F;packages">Package Index</a></div></header><div class="content"><div class="toc-wrapper"><div class="toc"><h2>The Language Reference &amp; Guide</h2><ol data-gumshoe><li><a href="welcome.html" class="chapter-link">Welcome to Emojicode</a></li><li><a href="basics.html" class="chapter-link">The Basics</a></li><li><a href="syntax.html" class="chapter-link">Syntax</a></li><li><a href="variables.html" class="chapter-link">Variables and Assignment</a></li><li><a href="controlflow.html" class="chapter-link">Control Flow</a></li><li><a href="the-s-package.html" class="chapter-link">The s package</a></li><li><a href="classes-valuetypes.html" class="chapter-link">Classes &amp; Value Types</a></li><li><a href="operators.html" class="chapter-link">Operators</a></li><li><a href="optionals.html" class="chapter-link">Optionals</a></li><li><a href="errors.html" class="chapter-link">Error Handling</a></li><li><a href="extensions.html" class="chapter-link">Extensions</a></li><li><a href="inheritance.html" class="chapter-link">Inheritance and Overriding</a></li><li><a href="protocols.html" class="chapter-link">Protocols</a></li><li><a href="enums.html" class="chapter-link">Enumerations</a></li><li><a href="types.html" class="chapter-link">Types and Namespaces</a></li><li><a href="typevalues.html" class="chapter-link">Types As Values</a></li><li><a href="documentation.html" class="chapter-link">Documentation</a></li><li><a href="generics.html" class="chapter-link">Generics</a></li><li><a href="callables.html" class="chapter-link">Callables</a></li><li><a href="packages.html" class="chapter-link">Packages</a></li><li><a href="threads.html" class="chapter-link">Threads</a></li><li><a href="safety.html" class="chapter-link current">Safe and Unsafe Code</a><ul><li><a href="#panic" class="section-link">Panic</a></li><li><a href="#unsafe-code" class="section-link">Unsafe Code</a></li></ul></li><li><a href="compiler.html" class="chapter-link">Appendix: The Emojicode Compiler</a></li></ol></div></div><h1 id="safe-and-unsafe-code">Safe and Unsafe Code</h1><p>Emojicode is designed to make your programs safe.</p><p>But what exactly does this mean? In contrast to other programming languages, your program will never terminate without stating a clear reason and should do so only in a few predictable and avoidable cases. These cases are called panic.</p><p>To achieve this goal Emojicode imposes certain restrictions. For instance, you can normally not allocate memory or perform random operations on allocated memory.</p><h2 id="panic">Panic</h2><p>When an Emojicode program reaches a state in which it cannot continue execution because an irrecoverable error has arosen, it will panic. Panicking occurs in the following situations.</p><ul><li>Unwrapping an optional without a value or an error that contains an error.</li><li>Accessing an array out of bounds</li><li>A call to the panic method ğŸ¤¯</li><li>The program runs out of memory (rare)</li></ul><h2 id="unsafe-code">Unsafe Code</h2><p>In some cases you might actually need to allocate memory yourself. The s package provides a value type named ğŸ§ , with which you can do exactly that.</p><pre><code>ğŸŒ ğŸ•Š ğŸ§  ğŸ‡
  â˜£ï¸ï¸ ğŸ†• size ğŸ”¢ ğŸ‡ğŸ‰
  â˜£ï¸ï¸ â—ï¸ ğŸ·ğŸšâ˜£ï¸ï¸Tâšªï¸ value T offset ğŸ”¢ ğŸ“» ğŸ”¤ejcBuiltInğŸ”¤
  ğŸ’­ ...
ğŸ‰
</code></pre><p>Nonetheless, these methods cannot be used by default as they are very dangerous when misused. You might have noted that the method and initializer shown in the above example use the attribute â˜£ï¸ï¸.</p><p>The â˜£ï¸ï¸ attribute marks these functions as unsafe. You can only use unsafe functions within an unsafe block or within another unsafe function or you will get a compiler error.</p><pre class="syntax"><code><span class="syntax-placeholder" id="srule-unsafe-block">unsafe-block</span> âŸ¶ â˜£ï¸ï¸ <a href="controlflow.html#srule-block" class="syntax-placeholder">block</a>
</code></pre><p>So, for instance, to allocate a memory block of 10 bytes we can write this code:</p><pre><code>â˜£ï¸ ğŸ‡
  ğŸ†•ğŸ§ ğŸ†• 10
ğŸ‰
</code></pre><p>If we hadnâ€™t wrapped the initialization expression into an unsafe block we would get a compiler error.</p><p>There is one noteworthy fact about the unsafe block we havenâ€™t mentioned yet: The unsafe block does not create its own variable scope. It is just syntactic sugar and does not affect flow control. We therefore recommend to keep all code that does not need to go into the unsafe block out of it.</p><div class="callout-hint"><div class="title">Hint</div><div class="text"><p>You should take that biohazard sign quite seriously. Messing with memory can go terribly wrong.</p></div></div><div class="book-navigation-bottom"><a href="threads.html" class="left">â† Previous </a><a href="compiler.html" class="right">Next Up: â€œAppendix: The Emojicode Compilerâ€ â†’</a></div><div class="book-improve">Want to improve this page? <a href="https://github.com/emojicode/emojicode.github.io/blob/master/src&#x2F;reference&#x2F;safety.md" target="_blank">You can edit the source on GitHub and send us a pull request!</a></div></div><script src="/static/js/gumshoe.min.js"></script><script>gumshoe.init({ activeClass: 'current', offset: 80 });</script><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);loadCSS('http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/xcode.min.css');</script></body></html>