<!-- This file was automatically generated from Markdown or JSON source files.
     DO NOT edit this file directly but look for the according source file! --><!DOCTYPE html><html><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport"><link href="/static/css/docs.css" rel="stylesheet"><title>Emojicode Documentation &middot; Metatypes</title></head><body><nav class="menu" role="navigation"><a href="/" class="menu-logo">Emojicode</a><div class="menu-right"><a href="&#x2F;docs&#x2F;" class="active">Documentation</a> <a href="https://github.com/emojicode">GitHub</a></div></nav><header class="docs-header"><a href="&#x2F;docs&#x2F;" class="docs-header-title">Emojicode Documentation <span class="docs-header-version">0.5</span></a><div class="docs-header-right"><a href="&#x2F;docs&#x2F;guides">Guides</a> <a href="&#x2F;docs&#x2F;reference" class="active">Language Reference</a> <a href="&#x2F;docs&#x2F;packages">Package Index</a></div></header><div class="content"><div class="toc-wrapper"><div class="toc"><h2>The Language Reference &amp; Guide</h2><ol data-gumshoe><li><a href="basics.html" class="chapter-link">The Basics</a></li><li><a href="syntax.html" class="chapter-link">Syntax</a></li><li><a href="controlflow.html" class="chapter-link">Control Flow</a></li><li><a href="the-s-package.html" class="chapter-link">The s package</a></li><li><a href="classes-valuetypes.html" class="chapter-link">Classes &amp; Value Types</a></li><li><a href="optionals.html" class="chapter-link">Optionals</a></li><li><a href="extensions.html" class="chapter-link">Extensions</a></li><li><a href="inheritance.html" class="chapter-link">Inheritance and Overriding</a></li><li><a href="protocols.html" class="chapter-link">Protocols</a></li><li><a href="enums.html" class="chapter-link">Enumerations</a></li><li><a href="types.html" class="chapter-link">Types and Namespaces</a></li><li><a href="errors.html" class="chapter-link">Error Handling</a></li><li><a href="documentation.html" class="chapter-link">Documentation</a></li><li><a href="generics.html" class="chapter-link">Generics</a></li><li><a href="callables.html" class="chapter-link">Callables</a></li><li><a href="threads.html" class="chapter-link">Threads</a></li><li><a href="metatypes.html" class="chapter-link current">Metatypes</a><ul><li><a href="#metatype" class="section-link">Metatype</a></li><li><a href="#compatibility-of-metatypes" class="section-link">Compatibility of Metatypes</a></li><li><a href="#using-metatype-instances" class="section-link">Using Metatype Instances</a></li><li><a href="#-in-type-methods" class="section-link">ğŸ• in Type Methods</a></li></ul></li><li><a href="packages.html" class="chapter-link">Packages</a></li><li><a href="memory.html" class="chapter-link">Memory Management</a></li><li><a href="compiler.html" class="chapter-link">Appendix I: The Emojicode Compiler</a></li></ol></div></div><h1 id="metatypes">Metatypes</h1><p>Emojicode allows you to pass certain types as value. You can then call type methods on these types or instantiate them.</p><h2 id="metatype">Metatype</h2><p>Metatypes are the types of types such as classes or value types.</p><p>The metatype of a type is the normal type name prefixed by ğŸ”³:</p><pre class="syntax">
<span class="syntax-placeholder" id="srule-metattype">metattype</span> âŸ¶ ğŸ”³ <a href="types.html#srule-type" class="syntax-placeholder">type</a>
</pre><p>The metatype of ğŸ”¡, for instance, is ğŸ”³ğŸ”¡ and the metatype of ğŸš‚ is ğŸ”³ğŸš‚. A variable that holds the type of the ğŸŸ class, for example, looks like this:</p><pre><code>ğŸ° fishType ğŸ”³ğŸŸ
</code></pre><p>To get an instance of such a metatype, or in other words a type as value, you can use the ğŸ”³ statment:</p><pre class="syntax">
<span class="syntax-placeholder" id="srule-metatype-instance">metatype-instance</span> âŸ¶ ğŸ”³ <a href="types.html#srule-type" class="syntax-placeholder">type</a>
</pre><p><em>type</em> must be a type identifier identifying a type whose meta type is available. These types are classes, enums and value types. This metatype can then be treated like any other value.</p><p>To populate the variable from the above example, this code could be used:</p><pre><code>ğŸ® fishType ğŸ”³ğŸŸ
</code></pre><p>â¬œï¸ can be used to get the type of a type instance. The syntax is:</p><pre class="syntax">
<span class="syntax-placeholder" id="srule-metatype-instance-from-instance">metatype-instance-from-instance</span> âŸ¶ â¬œï¸ <a href="syntax.html#srule-expression" class="syntax-placeholder">expression</a>
</pre><p>For instance, this can be used to instantiate another instance of the type on which the method was called:</p><pre><code>ğŸ– ğŸ¦„ ğŸ‡
  ğŸ”·â¬›ï¸â¬œï¸ğŸ•ğŸ†•
ğŸ‰
</code></pre><h2 id="compatibility-of-metatypes">Compatibility of Metatypes</h2><p>Metatypes are compatible as the types their instances represent are.</p><h2 id="using-metatype-instances">Using Metatype Instances</h2><p>You can use metatype instances as type in functions. Instead of providing a type you can prefix an expression that evaluates to a metatype instance with â¬›ï¸:</p><pre class="syntax">
<span class="syntax-placeholder" id="srule-type-from-expr">type-from-expr</span> âŸ¶ â¬›ï¸ <a href="syntax.html#srule-expression" class="syntax-placeholder">expression</a>
</pre><p><em>expresssion</em> must naturally evaluate to a metatype value. This kind of type specification is only available in methods and initializers.</p><p>The following example stores three different metatype instance in a list, instantiates them at run-time and calls a method on these instances:</p><pre><code>ğŸ‡ ğŸŸ ğŸ‡
  ğŸ”‘ ğŸˆ ğŸ†• ğŸ‡ğŸ‰

  ğŸ– ğŸ™‹ ğŸ‡
    ğŸ˜€ ğŸ”¤Iâ€™m a fish.ğŸ”¤
  ğŸ‰
ğŸ‰

ğŸ‡ ğŸ¡ ğŸŸ ğŸ‡
  âœ’ï¸ ğŸ”‘ ğŸˆ ğŸ†• ğŸ‡ ğŸ ğŸ†• ğŸ‰

  âœ’ï¸  ğŸ– ğŸ™‹ ğŸ‡
    ğŸ˜€ ğŸ”¤Iâ€™m a blowfish.ğŸ”¤
  ğŸ‰
ğŸ‰

ğŸ‡ ğŸ‹ ğŸŸ ğŸ‡
  âœ’ï¸ ğŸ”‘ ğŸˆ ğŸ†• ğŸ‡ ğŸ ğŸ†• ğŸ‰

  âœ’ï¸  ğŸ– ğŸ™‹ ğŸ‡
    ğŸ˜€ ğŸ”¤Iâ€™m a wale.ğŸ”¤
  ğŸ‰
ğŸ‰

ğŸ‡ ğŸ  ğŸŸ ğŸ‡
  âœ’ï¸ ğŸ”‘ ğŸˆ ğŸ†• ğŸ‡ ğŸ ğŸ†• ğŸ‰

  âœ’ï¸  ğŸ– ğŸ™‹ ğŸ‡
    ğŸ˜€ ğŸ”¤Iâ€™m a tropical fish.ğŸ”¤
  ğŸ‰
ğŸ‰

ğŸ ğŸ‡
  ğŸ¦ classes ğŸ¨ğŸ”³ğŸŸ ğŸ”³ğŸ¡ ğŸ”³ğŸ‹ ğŸ”³ğŸ   ğŸ†
  ğŸ”‚ class classes ğŸ‡
    ğŸ¦ fish ğŸ”·â¬›ï¸ class ğŸ†•
    ğŸ™‹ fish
  ğŸ‰
ğŸ‰
</code></pre><h2 id="-in-type-methods">ğŸ• in Type Methods</h2><p>ğŸ• is a type available in the context of type methods and in its declarations.</p><p>If you declare that a method returns ğŸ•, the method must return an instance of the type on which the type was called. Obviously, this can only be statisfied if you actually instantiate an instance of the type thus by using ğŸ•:</p><pre><code>ğŸ‡ğŸ– ğŸ› â¡ï¸ ğŸ• ğŸ‡
  ğŸ ğŸ”·ğŸ•ğŸ†•
ğŸ‰
</code></pre><p>Because the type methods can be called on subclasses that do not have all non- required initializers you can only use required initializers to instantiate ğŸ•.</p><p>You can use ğŸ• for flexible and powerful solutions, like shown below.</p><pre><code>ğŸ‡ ğŸŸ ğŸ‡
  ğŸ‡ğŸ– ğŸ› â¡ï¸ ğŸ• ğŸ‡
    ğŸ ğŸ”·ğŸ•ğŸ†•
  ğŸ‰

  ğŸ”‘ ğŸˆ ğŸ†• ğŸ‡ğŸ‰

  ğŸ– ğŸ™‹ ğŸ‡
    ğŸ˜€ ğŸ”¤Iâ€™m a fish.ğŸ”¤
  ğŸ‰
ğŸ‰

ğŸ‡ ğŸ¡ ğŸŸ ğŸ‡
  âœ’ï¸ ğŸ”‘ ğŸˆ ğŸ†• ğŸ‡
    ğŸ ğŸ†•
  ğŸ‰

  âœ’ï¸ ğŸ– ğŸ™‹ ğŸ‡
    ğŸ˜€ ğŸ”¤Iâ€™m a blowfish.ğŸ”¤
  ğŸ‰
ğŸ‰

ğŸ‡ ğŸ“º ğŸ‡
  ğŸ‡ğŸ– ğŸ â¡ï¸ ğŸš‚ ğŸ‡
    ğŸ™‹ ğŸ©ğŸ›ğŸŸ ğŸ‘´ Prints &quot;Iâ€™m a fish.&quot;
    ğŸ™‹ ğŸ©ğŸ›ğŸ¡ ğŸ‘´ Prints &quot;Iâ€™m a blowfish.&quot;
    ğŸ 0
  ğŸ‰
ğŸ‰
</code></pre><p>As you can see from the example ğŸ• can be used in a method or initializer declaration and always stands for the class on which a method or initializer is called. ğŸ• can also be used inside a class method body where it refers to the class on which it was called.</p><div class="book-navigation-bottom"><a href="threads.html" class="left">â† Previous </a><a href="packages.html" class="right">Next â†’</a></div><div class="book-improve">Want to improve this page? <a href="https://github.com/emojicode/emojicode.github.io/blob/master/src&#x2F;reference&#x2F;metatypes.md" target="_blank">You can edit the source on GitHub and send us a pull request!</a></div></div><script src="/static/js/gumshoe.min.js"></script><script>gumshoe.init({ activeClass: 'current', offset: 80 });</script><script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);loadCSS('http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/xcode.min.css');</script></body></html>